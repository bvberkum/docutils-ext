<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
 <head>
  <title>Index of /sandbox/cliechti/aafigure</title>
 </head>
 <body>
<h1>Index of /sandbox/cliechti/aafigure</h1>
<table><tr><th><img src="/icons/blank.gif" alt="[ICO]"></th><th><a href="?C=N;O=D">Name</a></th><th><a href="?C=M;O=A">Last modified</a></th><th><a href="?C=S;O=A">Size</a></th><th><a href="?C=D;O=A">Description</a></th></tr><tr><th colspan="5"><hr></th></tr>
<tr><td valign="top"><img src="/icons/back.gif" alt="[DIR]"></td><td><a href="/sandbox/cliechti/">Parent Directory</a></td><td>&nbsp;</td><td align="right">  - </td></tr>
<tr><td valign="top"><img src="/icons/text.gif" alt="[TXT]"></td><td><a href="Makefile.docutils-update">Makefile.docutils-update</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">293 </td></tr>
<tr><td valign="top"><img src="/icons/text.gif" alt="[TXT]"></td><td><a href="aa.py">aa.py</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">2.9K</td></tr>
<tr><td valign="top"><img src="/icons/unknown.gif" alt="[   ]"></td><td><a href="aa.pyc">aa.pyc</a></td><td align="right">05-Sep-2008 20:27  </td><td align="right">3.4K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-0.svg">aafigure-0.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">588 </td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-1.svg">aafigure-1.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">903 </td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-2.svg">aafigure-2.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">6.5K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-3.svg">aafigure-3.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">814 </td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-4.svg">aafigure-4.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">3.1K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-5.svg">aafigure-5.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">3.7K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-6.svg">aafigure-6.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right"> 77K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-7.svg">aafigure-7.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right"> 18K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-8.svg">aafigure-8.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">2.2K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-9.svg">aafigure-9.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">1.8K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-10.svg">aafigure-10.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">1.2K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-11.svg">aafigure-11.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">720 </td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-12.svg">aafigure-12.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">3.5K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-13.svg">aafigure-13.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">766 </td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-14.svg">aafigure-14.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">4.9K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-15.svg">aafigure-15.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">5.6K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-16.svg">aafigure-16.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right"> 12K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-17.svg">aafigure-17.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">5.4K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-18.svg">aafigure-18.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">7.2K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-19.svg">aafigure-19.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">4.6K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-20.svg">aafigure-20.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">6.9K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-21.svg">aafigure-21.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right"> 17K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-22.svg">aafigure-22.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">4.5K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-23.svg">aafigure-23.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">6.4K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-24.svg">aafigure-24.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right"> 15K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="aafigure-25.svg">aafigure-25.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right"> 24K</td></tr>
<tr><td valign="top"><img src="/icons/text.gif" alt="[TXT]"></td><td><a href="aafigure.py">aafigure.py</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right"> 36K</td></tr>
<tr><td valign="top"><img src="/icons/unknown.gif" alt="[   ]"></td><td><a href="aafigure.pyc">aafigure.pyc</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right"> 41K</td></tr>
<tr><td valign="top"><img src="/icons/p.gif" alt="[   ]"></td><td><a href="aafigure_directive.py">aafigure_directive.py</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">4.5K</td></tr>
<tr><td valign="top"><img src="/icons/unknown.gif" alt="[   ]"></td><td><a href="aafigure_directive.pyc">aafigure_directive.pyc</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">3.9K</td></tr>
<tr><td valign="top"><img src="/icons/image2.gif" alt="[IMG]"></td><td><a href="benford.svg">benford.svg</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">7.9K</td></tr>
<tr><td valign="top"><img src="/icons/text.gif" alt="[TXT]"></td><td><a href="makefile">makefile</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">293 </td></tr>
<tr><td valign="top"><img src="/icons/text.gif" alt="[TXT]"></td><td><a href="pil.py">pil.py</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">4.1K</td></tr>
<tr><td valign="top"><img src="/icons/unknown.gif" alt="[   ]"></td><td><a href="pil.pyc">pil.pyc</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">5.5K</td></tr>
<tr><td valign="top"><img src="/icons/text.gif" alt="[TXT]"></td><td><a href="rst2html.py">rst2html.py</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">777 </td></tr>
<tr><td valign="top"><img src="/icons/p.gif" alt="[   ]"></td><td><a href="svg.py">svg.py</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">6.0K</td></tr>
<tr><td valign="top"><img src="/icons/unknown.gif" alt="[   ]"></td><td><a href="svg.pyc">svg.pyc</a></td><td align="right">14-Sep-2009 10:47  </td><td align="right">7.8K</td></tr>
<tr><th colspan="5"><hr></th></tr>
</table>
<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.6: http://docutils.sourceforge.net/" />
<title>aafigure README</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 5631 2008-08-24 13:01:23Z goodger $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="aafigure-readme">
<h1 class="title">aafigure README</h1>

<div class="section" id="overview">
<h1>Overview</h1>
<p>The idea is to parse ASCII art images, embedded in reST documents and output
an image. This would mean that simple illustrations could be embedded as
ASCII art in the reST source and still look nice when converted to e.g. HTML</p>
</div>
<div class="section" id="implementation">
<h1>Implementation</h1>
<p>Files:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">aafigure.py</span></tt></dt>
<dd>ASCII art parser. This is the main module.</dd>
<dt><tt class="docutils literal"><span class="pre">aafigure_directive.py</span></tt></dt>
<dd>Implmements the <tt class="docutils literal"><span class="pre">aafigure</span></tt> Docutils directive that takes these
ASCII art figures and generates a drawing.</dd>
<dt><tt class="docutils literal"><span class="pre">aa.py</span></tt></dt>
<dd>ASCII art output backend. Intended for tests, not for the end user.</dd>
<dt><tt class="docutils literal"><span class="pre">pil.py</span></tt></dt>
<dd>Bitmap output backend. Using PIL, it can write PNG, JPEG and more formats.</dd>
<dt><tt class="docutils literal"><span class="pre">rst2html.py</span></tt></dt>
<dd>Patched version that adds the <tt class="docutils literal"><span class="pre">aafigure</span></tt> Docutils directive.</dd>
<dt><tt class="docutils literal"><span class="pre">svg.py</span></tt></dt>
<dd>SVG output backend.</dd>
</dl>
<p>The <tt class="docutils literal"><span class="pre">aafigure</span></tt> module contains code to parse ASCII art figures and create
a list of of shapes. The different output modules can walk trough a list of
shapes and write image files.</p>
</div>
<div class="section" id="usage">
<h1>Usage</h1>
<pre class="literal-block">
./rst2html.py README.txt &gt;README.html
</pre>
<p>This results in the <tt class="docutils literal"><span class="pre">README.html</span></tt> file and a <tt class="docutils literal"><span class="pre">.svg</span></tt> file for each
<tt class="docutils literal"><span class="pre">aafigure</span></tt>.</p>
<p>Display the resulting <tt class="docutils literal"><span class="pre">README.html</span></tt> file in a SVG capable browser. It has
been tested with Firefox 1.5.</p>
</div>
<div class="section" id="short-introduction">
<h1>Short introduction</h1>
<p>This code in a reST document that is processed with the enhanced <tt class="docutils literal"><span class="pre">rst2html.py</span></tt>
looks like this:</p>
<pre class="literal-block">
.. aafigure::

    --&gt;
</pre>
<p>Which results in an image like this:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 68)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

    --&gt;

</pre>
</div>
<p>The <tt class="docutils literal"><span class="pre">aafigure</span></tt> directive has the following options:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">:scale:</span> <span class="pre">&lt;float&gt;</span></tt>   enlarge or shrink image</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">:line_width:</span> <span class="pre">&lt;float&gt;</span></tt>   change line with (svg only currently)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">:line_format:</span> <span class="pre">&lt;str&gt;</span></tt> choose backend/output format: 'svg', 'png', all
bitmap formats that PIL supports can be used but only few make sense. Line
drawings have a good compression and better quality when saved as PNG
rather than a JPEG. The best quality will be achieved with SVG, tough not
all browsers support this vector image format at this time.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">:foreground:</span> <span class="pre">&lt;str&gt;</span></tt>   foreground color in the form <tt class="docutils literal"><span class="pre">#rgb</span></tt> or <tt class="docutils literal"><span class="pre">#rrggbb</span></tt></p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">:background:</span> <span class="pre">&lt;str&gt;</span></tt>   background color in the form <tt class="docutils literal"><span class="pre">#rgb</span></tt> or <tt class="docutils literal"><span class="pre">#rrggbb</span></tt>
(<em>not</em> for SVG output)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">:fill:</span> <span class="pre">&lt;str&gt;</span></tt>   fill color in the form <tt class="docutils literal"><span class="pre">#rgb</span></tt> or <tt class="docutils literal"><span class="pre">#rrggbb</span></tt></p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">:name:</span> <span class="pre">&lt;str&gt;</span></tt>   use this as filename instead of the automatic generated
name</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">:aspect:</span> <span class="pre">&lt;float&gt;</span></tt>  change aspect ratio. Effectively it is the width of the
image that is multiplied by this factor. The default setting <tt class="docutils literal"><span class="pre">1</span></tt> is useful
when shapes must have the same look when drawn horizontaly or verticaly.
However, <tt class="docutils literal"><span class="pre">:aspect:</span> <span class="pre">0.5</span></tt> looks more like the original ASCII and even smaller
factors may be useful for timing diagrams and such. But there is a risk that
text is cropped or is draw over an object beside it.</p>
<p>The stretching is done before drawing arrows or circles, so that they are
still good looking.</p>
</li>
</ul>
<div class="section" id="lines">
<h2>Lines</h2>
<p>The <tt class="docutils literal"><span class="pre">-</span></tt> and <tt class="docutils literal"><span class="pre">|</span></tt> are normaly used for lines. <tt class="docutils literal"><span class="pre">_</span></tt> can also be used. It is a
slightly longer line than the <tt class="docutils literal"><span class="pre">-</span></tt> and it's is drawn a bit lower. <tt class="docutils literal"><span class="pre">=</span></tt> gives
a thicker line. The later two line types can only be drawn horizontaly.</p>
<pre class="literal-block">
---- |         ___
     | --  ___|     ===
</pre>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 116)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

  ---- |         ___
       | --  ___|     ===


</pre>
</div>
<p>It is also possible to draw diagonal lines. Their use is somewhat restricted
tough. Not all cases work as expected.</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 125)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

                                     +
      |  -  +   |  -  +   |  -  +   /               -
     /  /  /   /  /  /   /  /  /   /     --     |/| /    +
    |  |  |   +  +  +   -  -  -   /     /  \        -   \|/  |\
                                 +     +    +          +-+-+ | +
    |  |  |   +  +  +   -  -  -   \     \  /        -   /|\  |/
     \  \  \   \  \  \   \  \  \   \     --     |\| \    +
      |  -  +   |  -  +   |  -  +   \               -
                                     +

</pre>
</div>
<p>And drawing longer diagonal lines with different angles looks ugly...</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 139)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

    +      |
     \    /
      \  /
       --


</pre>
</div>
</div>
<div class="section" id="arrows">
<h2>Arrows</h2>
<p>Arrow styles are:</p>
<pre class="literal-block">
---&gt;   | | | | | |
---&lt;   | | | | | |
---o   ^ V v o O #
---O
---#
</pre>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 157)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

    ---&gt;   | | | | | |
    ---&lt;   | | | | | |
    ---o   ^ V v o O #
    ---O
    ---#

</pre>
</div>
</div>
<div class="section" id="boxes">
<h2>Boxes</h2>
<p>Boxes are automaticaly draw when the edges are made with <tt class="docutils literal"><span class="pre">+</span></tt>, filled
boxes are made with <tt class="docutils literal"><span class="pre">X</span></tt> (must be at least two units high or wide).
It is also possibe to make rounded edges in two ways:</p>
<pre class="literal-block">
+-----+   XXX  /--\     --   |
|     |   XXX  |  |    /    /
+-----+   XXX  \--/   |   --
</pre>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 175)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

    +-----+   XXX  /--\     --   |
    |     |   XXX  |  |    /    /
    +-----+   XXX  \--/   |   --

</pre>
</div>
</div>
<div class="section" id="fills">
<h2>Fills</h2>
<p>Upper case characters generate shapes with borders, lower case without border.
Fills must be at least two characters wide or high. (This reduces the chance
that it is detected as Fill instead of a string)</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 188)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

    A   B   C   D   E   F   G   H   I   J   K   L   M
     AA  BB  CC  DD  EE  FF  GG  HH  II  JJ  KK  LL  MM
     AA  BB  CC  DD  EE  FF  GG  HH  II  JJ  KK  LL  MM

     aa  bb  cc  dd  ee  ff  gg  hh  ii  jj  kk  ll  mm
     aa  bb  cc  dd  ee  ff  gg  hh  ii  jj  kk  ll  mm

    N   O   P   Q   R   S   T   U   V   W   X   Y   Z
     NN  OO  PP  QQ  RR  SS  TT  UU  VV  WW  XX  YY  ZZ
     NN  OO  PP  QQ  RR  SS  TT  UU  VV  WW  XX  YY  ZZ

     nn  oo  pp  qq  rr  ss  tt  uu  vv  ww  xx  yy  zz
     nn  oo  pp  qq  rr  ss  tt  uu  vv  ww  xx  yy  zz

</pre>
</div>
<p>Complex shapes can be filled:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 206)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

    CCCCC     C         dededede
     C  CCCC  CC        dededede
     CC    CCCCC        dededede

</pre>
</div>
</div>
<div class="section" id="text">
<h2>Text</h2>
<p>The images may contain text too. There are different styles to enter text:</p>
<p><em>direct</em></p>
<p>Bby default are repeated characters detected as fill:</p>
<pre class="literal-block">
Hello World  dd d
                d
</pre>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 223)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

    Hello World  dd d
                    d

</pre>
</div>
<p><em>quoted</em></p>
<p>Text between quotes has piority over any graphical meaning:</p>
<pre class="literal-block">
&quot;Hello World&quot;  dd d
                  d
</pre>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 235)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

    &quot;Hello World&quot;  dd d
                      d

</pre>
</div>
<p><tt class="docutils literal"><span class="pre">&quot;</span></tt>, <tt class="docutils literal"><span class="pre">'</span></tt> and <tt class="docutils literal"><span class="pre">\`</span></tt> are all valid quotation marks. The quotes are not
visible in the resulting image. This not only disables fills (see below), it
also treats <tt class="docutils literal"><span class="pre">-</span></tt>, <tt class="docutils literal"><span class="pre">|</span></tt> etc as text.</p>
<p><em>textual option</em></p>
<p>The <tt class="docutils literal"><span class="pre">:textual:</span></tt> option disables horizontal fill detection. Fills are only
detected when they are verticaly at least 2 charcacters high:</p>
<pre class="literal-block">
Hello World  dd d
                d
</pre>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 252)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::
    :textual:

    Hello World  dd d
                    d


</pre>
</div>
</div>
<div class="section" id="other">
<h2>Other</h2>
<pre class="literal-block">
* { }
</pre>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 266)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

    * { }



</pre>
</div>
</div>
</div>
<div class="section" id="todo">
<h1>TODO</h1>
<ul>
<li><p class="first">Symbol detection: scan for predefined shapes in the ASCII image
and output them as symbol from a library</p>
</li>
<li><p class="first">Symbol libraries for UML, flowchart, electronic schematics, ...</p>
</li>
<li><p class="first">The way the image is embedded is a hack (inserting a tag trough a raw node...)</p>
</li>
<li><p class="first">Search for ways to bring in color. Ideas:</p>
<blockquote>
<ul>
<li><p class="first">have an :option: to set color tags. Shapes that touch such a tag
inhertit it's color. The tag would be visible in the ASCII source tough:</p>
<pre class="literal-block">
.. aafigure::
    :colortag: 1:red, 2:blue

    1---&gt;  ---&gt;2
</pre>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">:color:</span> <span class="pre">x,y,color</span></tt> but counting coordinates is no so fun</p>
</li>
</ul>
<p>drawback: both are complex to implement, searching for shapes that belong
together. it's also not always wanted that e.g. when a line touches a
box, both have the same color</p>
</blockquote>
</li>
<li><p class="first">aafigure probably needs arguments like <tt class="docutils literal"><span class="pre">font-family</span></tt>, ...</p>
</li>
<li><p class="first">Punctuation not included in strings (now a bit improved but if it has a
graphical meaning , then that is chooses, even if it makes no sense),
underlines in strings are tricky to detect...</p>
</li>
<li><p class="first">Dotted lines? <tt class="docutils literal"><span class="pre">...</span></tt></p>
</li>
<li><p class="first">Group shapes that belong to an object, so that it's easier to import and
change the graphics in a vector drawing program.</p>
</li>
<li><p class="first">Path optimizer, it happens that many small lines are output where a long
line could be used.</p>
</li>
</ul>
</div>
<div class="section" id="license">
<h1>License</h1>
<p>BSD</p>
</div>
<div class="section" id="tests">
<h1>Tests</h1>
<p>To compare input and output, look at the sources of this <a class="reference external" href="README.txt">file</a>.</p>
<div class="section" id="simple-tests">
<h2>Simple tests</h2>
<p>Different arrow types:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 330)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

    &lt;--&gt;  &gt;-&gt;   --&gt; &lt;--
    &gt;--&lt;  o--&gt;  --&gt;+&lt;--
    o--o          o=&gt;

</pre>
</div>
<p>Boxes and shapes:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 338)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

    +---------------+
    |A box with text|
    +---------------+

</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 344)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

        ---&gt; | ^|   |   +++
        &lt;--- | || --+-- +++
        &lt;--&gt; | |V   |   +++&lt;-
     __             __    ^
    |  |__  +---+  |__|   |
            |box|   ..
            +---+  Xenophon


</pre>
</div>
</div>
<div class="section" id="flow-chart">
<h2>Flow chart</h2>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 357)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::
    :textual:

        /---------\
        |  Start  |
        \----+----/
             |
             V
        +----+----+
        |  Init   |
        +----+----+
             |
             +&lt;-----------+
             |            |
             V            |
        +----+----+       |
        | Process |       |
        +----+----+       |
             |            |
             V            |
        +----+----+  yes  |
        |  more?  +-------+
        +----+----+
             | no
             V
        /----+----\
        |   End   |
        \---------/


</pre>
</div>
</div>
<div class="section" id="uml">
<h2>UML</h2>
<p>No not realy, yet. But you get the idea.</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 391)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::
    :scale: 0.8

    +---------+  +---------+  +---------+
    |Object 1 |  |Object 2 |  |Object 3 |
    +----+----+  +----+----+  +----+----+
         |            |            |
         |            |            |
         X            |            |
         X-----------&gt;X            |
         X            X            |
         X&lt;-----------X            |
         X            |            |
         X            |            |
         X------------------------&gt;X
         |            |            X
         X-----------&gt;X            X---+
         X            X            X   |
         |            |            X&lt;--+
         X&lt;------------------------X
         X            |            |
         |            |            |
         |            |            |

</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 415)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::
    :scale: 0.8

    +---------+         +---------+     +---------+
    |  Shape  |         |  Line   |     |  Point  |
    +---------+         +---------+   2 +---------+
    | draw    +&lt;--------+ start   +----O+ x       |
    | move    +&lt;-+      | end     |     | y       |
    +---------+   \     +---------+     +---------+
                   \
                    \   +---------+
                     +--+ Circle  |
                        +---------+
                        | center  |
                        | radius  |
                        +---------+

</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 432)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

                             /-----------\     yes /----------\
                          --&gt;| then this |---&gt;*---&gt;| and this |
                      +  /   \-----------/    |no  \----------/
     /------------\   +--                     |
     | First this |--&gt;+                       |
     \------------/   +--                     |
                      +  \   /---------\      V        /------\
                          --&gt;| or that |-----&gt;*-------&gt;| Done |
                             \---------/               \------/

</pre>
</div>
</div>
<div class="section" id="electronics">
<h2>Electronics</h2>
<p>It would be cool if it could display simple schematics.</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 448)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::
    :fill: #fff

          Iin +-----+      Iout
        O-&gt;---+ R1  +---o--&gt;-----O
       |      +-----+   |         |
    Vin|       100k   ----- C1    | Vout
       |              ----- 100n  |
       v                |         v
        O---------------o--------O

</pre>
</div>
<!-- - Resistor should not be filled -> can be solved by symbol detection -->
<ul class="simple">
<li>Capacitor not good, would prefer <tt class="docutils literal"><span class="pre">--||--</span></tt>  -&gt; symbol detection</li>
</ul>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 464)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

       |/|       |\|       | |     +---+       e|
    ---+ +---  --+ +--   --+ +--  -+   +-    b|/
       |\|       |/|       | |     +---+    --+
                                              |\
       |        |           |        |         c|
      -+-      -+-         -+-      +++
      / \      \ /                  | |    -   -
      -+-      -+-         -+-      | |    c\ /e
       |        |           |       +++     -+-
                                     |       |b

</pre>
</div>
<ul class="simple">
<li>Diodes OK</li>
<li>Caps not optimal. Too far appart in image, not very good recognisable in
ASCII. Space cannot be removed as the two <tt class="docutils literal"><span class="pre">+</span></tt> signs would be connected
otherwise. The schematic below uses an other style.</li>
<li>Arrows in transistor symbols can not be drawn</li>
</ul>
<p>Here is a complete circuit with different parts:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 487)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::
    :fill: #fff
    :scale: 0.8
    :textual:

                         Q1  _  8MHz
                           || ||
                      +----+| |+----+
                      |    ||_||    |
                      |             |
                +-----+-------------+-----+
                |    XIN           XOUT   |
                |                         |
                |                    P3.3 +--------------+
    SDA/I2C O---+ P2.0                    |              |
                |                         |             e|
                |        MSP430F123       |   +----+  b|/  V1
    SCL/I2C O---+ P2.1               P3.4 +---+ R1 +---+   PNP
                |                         |   +----+   |\
                |           IC1           |      1k     c|    +----+
                |                         |              o----+ R3 +---O TXD/RS232
                |    VCC             GND  |              |    +----+
                +-----+---------------+---+              |      1k
                      |               |                  |    +----+
                      |               |                  +----+ R2 +---O RXD/RS232
                      |               |                       +----+
                      |               |                         10k
    GND/I2C O---o-----+----o----------o-----------o--------------------O GND/RS232
                |     |    |   C1     |           |   C2
               =+=    |  ----- 1u     |         ----- 10u
                      |  ----- 5V +---+---+     ----- 16V
                      |    |      |  GND  |       |            D1|/|
                      +----o------+out  in+-------o----------o---+ +---O RTS/RS232
                                  |  3V   |                  |   |\|
                                  +-------+                  |
                                   IC2                       | D2|/|
                                                             +---+ +---O DTR/RS232
                                                                 |\|


</pre>
</div>
</div>
<div class="section" id="timing-diagrams">
<h2>Timing diagrams</h2>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 529)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::
    :aspect: 0.5

      ^    ___     ___           ____
    A |___|   |___|   |_________|    |______
      |      ___        ___           __
    B |_____|   |______|   |________XX  XX__
      |
      +-------------------------------------&gt; t

</pre>
</div>
<p>Here is one with descriptions:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 541)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

                        SDA edge
         start                              stop
           |    |          |                 |
           v    v          v                 v
        ___      __________                   ___
    SDA    |    |          |                 |
           |____|          |_____..._________|
        ______      _____       _..._       _____
    SCL       |    |     |     |     |     |
              |____|     |_____|     |_____|

              ^    ^     ^     ^     ^     ^
              |    |     |     |     |     |
              | 'sh_in'  |  'sh_in'  |  'sh_in
           'sh_out'   'sh_out'    'sh_out'

                        SCL edge

</pre>
</div>
</div>
<div class="section" id="statistical-diagrams">
<h2>Statistical diagrams</h2>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Benfords_law">Benfords</a> distribution of the sizes of files on my harddrive:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 568)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::
    :name: benford
    :foreground: #ff1050
    :aspect: 0.7

      |
    1 +------------------------------------------------------------&gt; 31.59%
    2 +-------------------------------&gt; 16.80%
    3 +-----------------------&gt; 12.40%
    4 +-----------------&gt; 9.31%
    5 +--------------&gt; 7.89%
    6 +-----------&gt; 6.10%
    7 +---------&gt; 5.20%
    8 +---------&gt; 4.90%
    9 +--------&gt; 4.53%
      |         +         |         +         |         +         |
      +---------+---------+---------+---------+---------+---------+---&gt;
      |         +         |         +         |         +         |
      0         5        10        15        20        25        30

</pre>
</div>
<p>Just some bars:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 590)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::
    :fill: #00b

    ^     2
    |    EE
    | 1  EE       4
    |DD  EE   3  HH
    |DD  EE  GG  HH
    |DD  EE  GG  HH
    +------------------&gt;


</pre>
</div>
</div>
<div class="section" id="schedules">
<h2>Schedules</h2>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./sandbox/cliechti/aafigure/README.txt</tt>, line 605)</p>
<p>Unknown directive type &quot;aafigure&quot;.</p>
<pre class="literal-block">
.. aafigure::

    &quot;Week&quot;      |  1    |  2    |  3    |  4    |  5    |
    ------------+----------------------------------------
    &quot;Task 1&quot;    |HHHH
    &quot;Task 2&quot;    |    EEEEEEEEEEEE
    &quot;Task 3&quot;    |                GGGGGGGGZZZZZZZZZZ
    &quot;Task 4&quot;    |DD      DD          DD          DD
</pre>
</div>
</div>
</div>
</div>
</body>
</html>
</body></html>
